{
  "hash": "b9fb31bc13a9483adbe3ff98d2d9153b",
  "result": {
    "markdown": "---\ntitle: \"dplyr\"\nsubtitle: 'A package tailed towards the manipulation of data frames'\nformat: revealjs\n---\n\n\n\n\n## dyplyr\n\n::: incremental\n- [dplyr](https://dplyr.tidyverse.org/) is a package tailed towards data manipulation.\n- `filter()` picks cases based on their values.\n- `select()` picks variables based on their names.\n- `mutate()` adds and creates new variables\n- `summarise()` reduces multiple values down to a single summary.\n- `group_by()` allows to perform any operation by grouping variables.\n- `arrange()` changes the ordering of the rows.\n:::\n\n## `filter()` picks cases based on their values\n\n::: r-fit-text\n\n`filter(.data, ...)` \n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Without %>%:\nfilter(mtcars, disp > 350 & mpg < 11)\n\n# with %>%\nmtcars %>%\n  filter(disp > 350 & mpg < 11)\n```\n:::\n\n\nNote: You don't have to provide the name of a data object within the dplyr function!\n\n***not***: `filter(mtcars, mtcars$disp > 350 & mtcars$mpg < 11)`\n\n***but***: `filter(mtcars, disp > 350 & mpg < 11)`\n\n:::\n\n## Task\n\n- Take the `starwars` database.\n- Filter all cases with `brown` hair color and `female` gender (Hint: variables `hair_color` and `sex`)\n\n\n[**:-)**]{style=\"color: red;\"}\n\n\n\n---\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nstarwars %>%\n  filter(hair_color == \"brown\" & sex == \"female\")\n```\n\n::: {.cell-output-display}\n<div class=\"kable-table\">\n\n|name               | height| mass|hair_color |skin_color |eye_color | birth_year|sex    |gender   |homeworld |species |films                                                                                                                 |vehicles              |starships                                               |\n|:------------------|------:|----:|:----------|:----------|:---------|----------:|:------|:--------|:---------|:-------|:---------------------------------------------------------------------------------------------------------------------|:---------------------|:-------------------------------------------------------|\n|Leia Organa        |    150|   49|brown      |light      |brown     |         19|female |feminine |Alderaan  |Human   |The Empire Strikes Back, Revenge of the Sith    , Return of the Jedi     , A New Hope             , The Force Awakens |Imperial Speeder Bike |                                                        |\n|Beru Whitesun lars |    165|   75|brown      |light      |blue      |         47|female |feminine |Tatooine  |Human   |Attack of the Clones, Revenge of the Sith , A New Hope                                                                |                      |                                                        |\n|Cordé              |    157|   NA|brown      |light      |brown     |         NA|female |feminine |Naboo     |Human   |Attack of the Clones                                                                                                  |                      |                                                        |\n|Dormé              |    165|   NA|brown      |light      |brown     |         NA|female |feminine |Naboo     |Human   |Attack of the Clones                                                                                                  |                      |                                                        |\n|Rey                |     NA|   NA|brown      |light      |hazel     |         NA|female |feminine |NA        |Human   |The Force Awakens                                                                                                     |                      |                                                        |\n|Padmé Amidala      |    165|   45|brown      |light      |brown     |         46|female |feminine |Naboo     |Human   |Attack of the Clones, The Phantom Menace  , Revenge of the Sith                                                       |                      |H-type Nubian yacht, Naboo star skiff   , Naboo fighter |\n\n</div>\n:::\n:::\n\n\n## `select()` picks variables based on their names\n\n`select(.data, ...)` \n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Either column numbers or column names\nmtcars %>% select(1, 3, carb)\n\n# Use the `:` symbol for ranges\nmtcars %>% select(1:3, am:carb)\n\n# use `-` to drop variables and keep the others\nmtcars %>% select(-am, -(disp:drat))\n\n# use `!` to select all variables not the ones defined\nmtcars %>% select(!(1:3))\n```\n:::\n\n\n## Task\n\n- Take the `starwars` database.\n- Filter for `Human` and select the variables `name, height, and mass` (Hint: variable `species`)\n\n\n[**:-)**]{style=\"color: red;\"}\n\n\n\n***\n\n\n::: {.cell}\n\n```{.r .cell-code}\nstarwars %>% \n  filter(species == \"Human\") %>% \n  select(name:mass)\n```\n\n::: {.cell-output-display}\n<div class=\"kable-table\">\n\n|name                | height|  mass|\n|:-------------------|------:|-----:|\n|Luke Skywalker      |    172|  77.0|\n|Darth Vader         |    202| 136.0|\n|Leia Organa         |    150|  49.0|\n|Owen Lars           |    178| 120.0|\n|Beru Whitesun lars  |    165|  75.0|\n|Biggs Darklighter   |    183|  84.0|\n|Obi-Wan Kenobi      |    182|  77.0|\n|Anakin Skywalker    |    188|  84.0|\n|Wilhuff Tarkin      |    180|    NA|\n|Han Solo            |    180|  80.0|\n|Wedge Antilles      |    170|  77.0|\n|Jek Tono Porkins    |    180| 110.0|\n|Palpatine           |    170|  75.0|\n|Boba Fett           |    183|  78.2|\n|Lando Calrissian    |    177|  79.0|\n|Lobot               |    175|  79.0|\n|Mon Mothma          |    150|    NA|\n|Arvel Crynyd        |     NA|    NA|\n|Qui-Gon Jinn        |    193|  89.0|\n|Finis Valorum       |    170|    NA|\n|Shmi Skywalker      |    163|    NA|\n|Mace Windu          |    188|  84.0|\n|Gregar Typho        |    185|  85.0|\n|Cordé               |    157|    NA|\n|Cliegg Lars         |    183|    NA|\n|Dormé               |    165|    NA|\n|Dooku               |    193|  80.0|\n|Bail Prestor Organa |    191|    NA|\n|Jango Fett          |    183|  79.0|\n|Jocasta Nu          |    167|    NA|\n|Raymus Antilles     |    188|  79.0|\n|Finn                |     NA|    NA|\n|Rey                 |     NA|    NA|\n|Poe Dameron         |     NA|    NA|\n|Padmé Amidala       |    165|  45.0|\n\n</div>\n:::\n:::\n\n\n## Help functions to select variables\n\n- `contains()`: selects all variables which names contain a certain string.  \n- `starts_with()`: selects all variables which start with a certain string.  \n- `ends_with()`: selects all variables which end with a certain string.  \n- `num_range()`: selects variables with a certain prefix within a certain range \n\n\n::: {.cell}\n\n```{.r .cell-code}\nmtcars %>% select(starts_with(\"d\")) %>% slice(1:2)\nmtcars %>% select(!ends_with(\"b\")) %>% slice(1:2)\nmtcars %>% select(contains(\"ra\")) %>% slice(1:2)\nbillboard %>% select(num_range(\"wk\", 10:15))\n```\n:::\n\n\n## relocate() to rearrange columns\n\nThe `relocate()` function helps to rearrange the columns of a data frame \n\n\n::: {.cell}\n\n```{.r .cell-code}\nstarwars %>% \n  relocate(name, birth_year, sex)\n```\n\n::: {.cell-output-display}\n<div class=\"kable-table\">\n\n|name                  | birth_year|sex            | height|   mass|hair_color    |skin_color          |eye_color     |gender    |homeworld      |species        |films                                                                                                                                                                   |vehicles                                     |starships                                                                                                                        |\n|:---------------------|----------:|:--------------|------:|------:|:-------------|:-------------------|:-------------|:---------|:--------------|:--------------|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------|:--------------------------------------------|:--------------------------------------------------------------------------------------------------------------------------------|\n|Luke Skywalker        |       19.0|male           |    172|   77.0|blond         |fair                |blue          |masculine |Tatooine       |Human          |The Empire Strikes Back, Revenge of the Sith    , Return of the Jedi     , A New Hope             , The Force Awakens                                                   |Snowspeeder          , Imperial Speeder Bike |X-wing          , Imperial shuttle                                                                                               |\n|C-3PO                 |      112.0|none           |    167|   75.0|NA            |gold                |yellow        |masculine |Tatooine       |Droid          |The Empire Strikes Back, Attack of the Clones   , The Phantom Menace     , Revenge of the Sith    , Return of the Jedi     , A New Hope                                 |                                             |                                                                                                                                 |\n|R2-D2                 |       33.0|none           |     96|   32.0|NA            |white, blue         |red           |masculine |Naboo          |Droid          |The Empire Strikes Back, Attack of the Clones   , The Phantom Menace     , Revenge of the Sith    , Return of the Jedi     , A New Hope             , The Force Awakens |                                             |                                                                                                                                 |\n|Darth Vader           |       41.9|male           |    202|  136.0|none          |white               |yellow        |masculine |Tatooine       |Human          |The Empire Strikes Back, Revenge of the Sith    , Return of the Jedi     , A New Hope                                                                                   |                                             |TIE Advanced x1                                                                                                                  |\n|Leia Organa           |       19.0|female         |    150|   49.0|brown         |light               |brown         |feminine  |Alderaan       |Human          |The Empire Strikes Back, Revenge of the Sith    , Return of the Jedi     , A New Hope             , The Force Awakens                                                   |Imperial Speeder Bike                        |                                                                                                                                 |\n|Owen Lars             |       52.0|male           |    178|  120.0|brown, grey   |light               |blue          |masculine |Tatooine       |Human          |Attack of the Clones, Revenge of the Sith , A New Hope                                                                                                                  |                                             |                                                                                                                                 |\n|Beru Whitesun lars    |       47.0|female         |    165|   75.0|brown         |light               |blue          |feminine  |Tatooine       |Human          |Attack of the Clones, Revenge of the Sith , A New Hope                                                                                                                  |                                             |                                                                                                                                 |\n|R5-D4                 |         NA|none           |     97|   32.0|NA            |white, red          |red           |masculine |Tatooine       |Droid          |A New Hope                                                                                                                                                              |                                             |                                                                                                                                 |\n|Biggs Darklighter     |       24.0|male           |    183|   84.0|black         |light               |brown         |masculine |Tatooine       |Human          |A New Hope                                                                                                                                                              |                                             |X-wing                                                                                                                           |\n|Obi-Wan Kenobi        |       57.0|male           |    182|   77.0|auburn, white |fair                |blue-gray     |masculine |Stewjon        |Human          |The Empire Strikes Back, Attack of the Clones   , The Phantom Menace     , Revenge of the Sith    , Return of the Jedi     , A New Hope                                 |Tribubble bongo                              |Jedi starfighter        , Trade Federation cruiser, Naboo star skiff        , Jedi Interceptor        , Belbullab-22 starfighter |\n|Anakin Skywalker      |       41.9|male           |    188|   84.0|blond         |fair                |blue          |masculine |Tatooine       |Human          |Attack of the Clones, The Phantom Menace  , Revenge of the Sith                                                                                                         |Zephyr-G swoop bike, XJ-6 airspeeder         |Trade Federation cruiser, Jedi Interceptor        , Naboo fighter                                                                |\n|Wilhuff Tarkin        |       64.0|male           |    180|     NA|auburn, grey  |fair                |blue          |masculine |Eriadu         |Human          |Revenge of the Sith, A New Hope                                                                                                                                         |                                             |                                                                                                                                 |\n|Chewbacca             |      200.0|male           |    228|  112.0|brown         |unknown             |blue          |masculine |Kashyyyk       |Wookiee        |The Empire Strikes Back, Revenge of the Sith    , Return of the Jedi     , A New Hope             , The Force Awakens                                                   |AT-ST                                        |Millennium Falcon, Imperial shuttle                                                                                              |\n|Han Solo              |       29.0|male           |    180|   80.0|brown         |fair                |brown         |masculine |Corellia       |Human          |The Empire Strikes Back, Return of the Jedi     , A New Hope             , The Force Awakens                                                                            |                                             |Millennium Falcon, Imperial shuttle                                                                                              |\n|Greedo                |       44.0|male           |    173|   74.0|NA            |green               |black         |masculine |Rodia          |Rodian         |A New Hope                                                                                                                                                              |                                             |                                                                                                                                 |\n|Jabba Desilijic Tiure |      600.0|hermaphroditic |    175| 1358.0|NA            |green-tan, brown    |orange        |masculine |Nal Hutta      |Hutt           |The Phantom Menace, Return of the Jedi, A New Hope                                                                                                                      |                                             |                                                                                                                                 |\n|Wedge Antilles        |       21.0|male           |    170|   77.0|brown         |fair                |hazel         |masculine |Corellia       |Human          |The Empire Strikes Back, Return of the Jedi     , A New Hope                                                                                                            |Snowspeeder                                  |X-wing                                                                                                                           |\n|Jek Tono Porkins      |         NA|male           |    180|  110.0|brown         |fair                |blue          |masculine |Bestine IV     |Human          |A New Hope                                                                                                                                                              |                                             |X-wing                                                                                                                           |\n|Yoda                  |      896.0|male           |     66|   17.0|white         |green               |brown         |masculine |NA             |Yoda's species |The Empire Strikes Back, Attack of the Clones   , The Phantom Menace     , Revenge of the Sith    , Return of the Jedi                                                  |                                             |                                                                                                                                 |\n|Palpatine             |       82.0|male           |    170|   75.0|grey          |pale                |yellow        |masculine |Naboo          |Human          |The Empire Strikes Back, Attack of the Clones   , The Phantom Menace     , Revenge of the Sith    , Return of the Jedi                                                  |                                             |                                                                                                                                 |\n|Boba Fett             |       31.5|male           |    183|   78.2|black         |fair                |brown         |masculine |Kamino         |Human          |The Empire Strikes Back, Attack of the Clones   , Return of the Jedi                                                                                                    |                                             |Slave 1                                                                                                                          |\n|IG-88                 |       15.0|none           |    200|  140.0|none          |metal               |red           |masculine |NA             |Droid          |The Empire Strikes Back                                                                                                                                                 |                                             |                                                                                                                                 |\n|Bossk                 |       53.0|male           |    190|  113.0|none          |green               |red           |masculine |Trandosha      |Trandoshan     |The Empire Strikes Back                                                                                                                                                 |                                             |                                                                                                                                 |\n|Lando Calrissian      |       31.0|male           |    177|   79.0|black         |dark                |brown         |masculine |Socorro        |Human          |The Empire Strikes Back, Return of the Jedi                                                                                                                             |                                             |Millennium Falcon                                                                                                                |\n|Lobot                 |       37.0|male           |    175|   79.0|none          |light               |blue          |masculine |Bespin         |Human          |The Empire Strikes Back                                                                                                                                                 |                                             |                                                                                                                                 |\n|Ackbar                |       41.0|male           |    180|   83.0|none          |brown mottle        |orange        |masculine |Mon Cala       |Mon Calamari   |Return of the Jedi, The Force Awakens                                                                                                                                   |                                             |                                                                                                                                 |\n|Mon Mothma            |       48.0|female         |    150|     NA|auburn        |fair                |blue          |feminine  |Chandrila      |Human          |Return of the Jedi                                                                                                                                                      |                                             |                                                                                                                                 |\n|Arvel Crynyd          |         NA|male           |     NA|     NA|brown         |fair                |brown         |masculine |NA             |Human          |Return of the Jedi                                                                                                                                                      |                                             |A-wing                                                                                                                           |\n|Wicket Systri Warrick |        8.0|male           |     88|   20.0|brown         |brown               |brown         |masculine |Endor          |Ewok           |Return of the Jedi                                                                                                                                                      |                                             |                                                                                                                                 |\n|Nien Nunb             |         NA|male           |    160|   68.0|none          |grey                |black         |masculine |Sullust        |Sullustan      |Return of the Jedi                                                                                                                                                      |                                             |Millennium Falcon                                                                                                                |\n|Qui-Gon Jinn          |       92.0|male           |    193|   89.0|brown         |fair                |blue          |masculine |NA             |Human          |The Phantom Menace                                                                                                                                                      |Tribubble bongo                              |                                                                                                                                 |\n|Nute Gunray           |         NA|male           |    191|   90.0|none          |mottled green       |red           |masculine |Cato Neimoidia |Neimodian      |Attack of the Clones, The Phantom Menace  , Revenge of the Sith                                                                                                         |                                             |                                                                                                                                 |\n|Finis Valorum         |       91.0|male           |    170|     NA|blond         |fair                |blue          |masculine |Coruscant      |Human          |The Phantom Menace                                                                                                                                                      |                                             |                                                                                                                                 |\n|Jar Jar Binks         |       52.0|male           |    196|   66.0|none          |orange              |orange        |masculine |Naboo          |Gungan         |Attack of the Clones, The Phantom Menace                                                                                                                                |                                             |                                                                                                                                 |\n|Roos Tarpals          |         NA|male           |    224|   82.0|none          |grey                |orange        |masculine |Naboo          |Gungan         |The Phantom Menace                                                                                                                                                      |                                             |                                                                                                                                 |\n|Rugor Nass            |         NA|male           |    206|     NA|none          |green               |orange        |masculine |Naboo          |Gungan         |The Phantom Menace                                                                                                                                                      |                                             |                                                                                                                                 |\n|Ric Olié              |         NA|NA             |    183|     NA|brown         |fair                |blue          |NA        |Naboo          |NA             |The Phantom Menace                                                                                                                                                      |                                             |Naboo Royal Starship                                                                                                             |\n|Watto                 |         NA|male           |    137|     NA|black         |blue, grey          |yellow        |masculine |Toydaria       |Toydarian      |Attack of the Clones, The Phantom Menace                                                                                                                                |                                             |                                                                                                                                 |\n|Sebulba               |         NA|male           |    112|   40.0|none          |grey, red           |orange        |masculine |Malastare      |Dug            |The Phantom Menace                                                                                                                                                      |                                             |                                                                                                                                 |\n|Quarsh Panaka         |       62.0|NA             |    183|     NA|black         |dark                |brown         |NA        |Naboo          |NA             |The Phantom Menace                                                                                                                                                      |                                             |                                                                                                                                 |\n|Shmi Skywalker        |       72.0|female         |    163|     NA|black         |fair                |brown         |feminine  |Tatooine       |Human          |Attack of the Clones, The Phantom Menace                                                                                                                                |                                             |                                                                                                                                 |\n|Darth Maul            |       54.0|male           |    175|   80.0|none          |red                 |yellow        |masculine |Dathomir       |Zabrak         |The Phantom Menace                                                                                                                                                      |Sith speeder                                 |Scimitar                                                                                                                         |\n|Bib Fortuna           |         NA|male           |    180|     NA|none          |pale                |pink          |masculine |Ryloth         |Twi'lek        |Return of the Jedi                                                                                                                                                      |                                             |                                                                                                                                 |\n|Ayla Secura           |       48.0|female         |    178|   55.0|none          |blue                |hazel         |feminine  |Ryloth         |Twi'lek        |Attack of the Clones, The Phantom Menace  , Revenge of the Sith                                                                                                         |                                             |                                                                                                                                 |\n|Dud Bolt              |         NA|male           |     94|   45.0|none          |blue, grey          |yellow        |masculine |Vulpter        |Vulptereen     |The Phantom Menace                                                                                                                                                      |                                             |                                                                                                                                 |\n|Gasgano               |         NA|male           |    122|     NA|none          |white, blue         |black         |masculine |Troiken        |Xexto          |The Phantom Menace                                                                                                                                                      |                                             |                                                                                                                                 |\n|Ben Quadinaros        |         NA|male           |    163|   65.0|none          |grey, green, yellow |orange        |masculine |Tund           |Toong          |The Phantom Menace                                                                                                                                                      |                                             |                                                                                                                                 |\n|Mace Windu            |       72.0|male           |    188|   84.0|none          |dark                |brown         |masculine |Haruun Kal     |Human          |Attack of the Clones, The Phantom Menace  , Revenge of the Sith                                                                                                         |                                             |                                                                                                                                 |\n|Ki-Adi-Mundi          |       92.0|male           |    198|   82.0|white         |pale                |yellow        |masculine |Cerea          |Cerean         |Attack of the Clones, The Phantom Menace  , Revenge of the Sith                                                                                                         |                                             |                                                                                                                                 |\n|Kit Fisto             |         NA|male           |    196|   87.0|none          |green               |black         |masculine |Glee Anselm    |Nautolan       |Attack of the Clones, The Phantom Menace  , Revenge of the Sith                                                                                                         |                                             |                                                                                                                                 |\n|Eeth Koth             |         NA|male           |    171|     NA|black         |brown               |brown         |masculine |Iridonia       |Zabrak         |The Phantom Menace , Revenge of the Sith                                                                                                                                |                                             |                                                                                                                                 |\n|Adi Gallia            |         NA|female         |    184|   50.0|none          |dark                |blue          |feminine  |Coruscant      |Tholothian     |The Phantom Menace , Revenge of the Sith                                                                                                                                |                                             |                                                                                                                                 |\n|Saesee Tiin           |         NA|male           |    188|     NA|none          |pale                |orange        |masculine |Iktotch        |Iktotchi       |The Phantom Menace , Revenge of the Sith                                                                                                                                |                                             |                                                                                                                                 |\n|Yarael Poof           |         NA|male           |    264|     NA|none          |white               |yellow        |masculine |Quermia        |Quermian       |The Phantom Menace                                                                                                                                                      |                                             |                                                                                                                                 |\n|Plo Koon              |       22.0|male           |    188|   80.0|none          |orange              |black         |masculine |Dorin          |Kel Dor        |Attack of the Clones, The Phantom Menace  , Revenge of the Sith                                                                                                         |                                             |Jedi starfighter                                                                                                                 |\n|Mas Amedda            |         NA|male           |    196|     NA|none          |blue                |blue          |masculine |Champala       |Chagrian       |Attack of the Clones, The Phantom Menace                                                                                                                                |                                             |                                                                                                                                 |\n|Gregar Typho          |         NA|male           |    185|   85.0|black         |dark                |brown         |masculine |Naboo          |Human          |Attack of the Clones                                                                                                                                                    |                                             |Naboo fighter                                                                                                                    |\n|Cordé                 |         NA|female         |    157|     NA|brown         |light               |brown         |feminine  |Naboo          |Human          |Attack of the Clones                                                                                                                                                    |                                             |                                                                                                                                 |\n|Cliegg Lars           |       82.0|male           |    183|     NA|brown         |fair                |blue          |masculine |Tatooine       |Human          |Attack of the Clones                                                                                                                                                    |                                             |                                                                                                                                 |\n|Poggle the Lesser     |         NA|male           |    183|   80.0|none          |green               |yellow        |masculine |Geonosis       |Geonosian      |Attack of the Clones, Revenge of the Sith                                                                                                                               |                                             |                                                                                                                                 |\n|Luminara Unduli       |       58.0|female         |    170|   56.2|black         |yellow              |blue          |feminine  |Mirial         |Mirialan       |Attack of the Clones, Revenge of the Sith                                                                                                                               |                                             |                                                                                                                                 |\n|Barriss Offee         |       40.0|female         |    166|   50.0|black         |yellow              |blue          |feminine  |Mirial         |Mirialan       |Attack of the Clones                                                                                                                                                    |                                             |                                                                                                                                 |\n|Dormé                 |         NA|female         |    165|     NA|brown         |light               |brown         |feminine  |Naboo          |Human          |Attack of the Clones                                                                                                                                                    |                                             |                                                                                                                                 |\n|Dooku                 |      102.0|male           |    193|   80.0|white         |fair                |brown         |masculine |Serenno        |Human          |Attack of the Clones, Revenge of the Sith                                                                                                                               |Flitknot speeder                             |                                                                                                                                 |\n|Bail Prestor Organa   |       67.0|male           |    191|     NA|black         |tan                 |brown         |masculine |Alderaan       |Human          |Attack of the Clones, Revenge of the Sith                                                                                                                               |                                             |                                                                                                                                 |\n|Jango Fett            |       66.0|male           |    183|   79.0|black         |tan                 |brown         |masculine |Concord Dawn   |Human          |Attack of the Clones                                                                                                                                                    |                                             |                                                                                                                                 |\n|Zam Wesell            |         NA|female         |    168|   55.0|blonde        |fair, green, yellow |yellow        |feminine  |Zolan          |Clawdite       |Attack of the Clones                                                                                                                                                    |Koro-2 Exodrive airspeeder                   |                                                                                                                                 |\n|Dexter Jettster       |         NA|male           |    198|  102.0|none          |brown               |yellow        |masculine |Ojom           |Besalisk       |Attack of the Clones                                                                                                                                                    |                                             |                                                                                                                                 |\n|Lama Su               |         NA|male           |    229|   88.0|none          |grey                |black         |masculine |Kamino         |Kaminoan       |Attack of the Clones                                                                                                                                                    |                                             |                                                                                                                                 |\n|Taun We               |         NA|female         |    213|     NA|none          |grey                |black         |feminine  |Kamino         |Kaminoan       |Attack of the Clones                                                                                                                                                    |                                             |                                                                                                                                 |\n|Jocasta Nu            |         NA|female         |    167|     NA|white         |fair                |blue          |feminine  |Coruscant      |Human          |Attack of the Clones                                                                                                                                                    |                                             |                                                                                                                                 |\n|Ratts Tyerell         |         NA|male           |     79|   15.0|none          |grey, blue          |unknown       |masculine |Aleen Minor    |Aleena         |The Phantom Menace                                                                                                                                                      |                                             |                                                                                                                                 |\n|R4-P17                |         NA|none           |     96|     NA|none          |silver, red         |red, blue     |feminine  |NA             |Droid          |Attack of the Clones, Revenge of the Sith                                                                                                                               |                                             |                                                                                                                                 |\n|Wat Tambor            |         NA|male           |    193|   48.0|none          |green, grey         |unknown       |masculine |Skako          |Skakoan        |Attack of the Clones                                                                                                                                                    |                                             |                                                                                                                                 |\n|San Hill              |         NA|male           |    191|     NA|none          |grey                |gold          |masculine |Muunilinst     |Muun           |Attack of the Clones                                                                                                                                                    |                                             |                                                                                                                                 |\n|Shaak Ti              |         NA|female         |    178|   57.0|none          |red, blue, white    |black         |feminine  |Shili          |Togruta        |Attack of the Clones, Revenge of the Sith                                                                                                                               |                                             |                                                                                                                                 |\n|Grievous              |         NA|male           |    216|  159.0|none          |brown, white        |green, yellow |masculine |Kalee          |Kaleesh        |Revenge of the Sith                                                                                                                                                     |Tsmeu-6 personal wheel bike                  |Belbullab-22 starfighter                                                                                                         |\n|Tarfful               |         NA|male           |    234|  136.0|brown         |brown               |blue          |masculine |Kashyyyk       |Wookiee        |Revenge of the Sith                                                                                                                                                     |                                             |                                                                                                                                 |\n|Raymus Antilles       |         NA|male           |    188|   79.0|brown         |light               |brown         |masculine |Alderaan       |Human          |Revenge of the Sith, A New Hope                                                                                                                                         |                                             |                                                                                                                                 |\n|Sly Moore             |         NA|NA             |    178|   48.0|none          |pale                |white         |NA        |Umbara         |NA             |Attack of the Clones, Revenge of the Sith                                                                                                                               |                                             |                                                                                                                                 |\n|Tion Medon            |         NA|male           |    206|   80.0|none          |grey                |black         |masculine |Utapau         |Pau'an         |Revenge of the Sith                                                                                                                                                     |                                             |                                                                                                                                 |\n|Finn                  |         NA|male           |     NA|     NA|black         |dark                |dark          |masculine |NA             |Human          |The Force Awakens                                                                                                                                                       |                                             |                                                                                                                                 |\n|Rey                   |         NA|female         |     NA|     NA|brown         |light               |hazel         |feminine  |NA             |Human          |The Force Awakens                                                                                                                                                       |                                             |                                                                                                                                 |\n|Poe Dameron           |         NA|male           |     NA|     NA|brown         |light               |brown         |masculine |NA             |Human          |The Force Awakens                                                                                                                                                       |                                             |T-70 X-wing fighter                                                                                                              |\n|BB8                   |         NA|none           |     NA|     NA|none          |none                |black         |masculine |NA             |Droid          |The Force Awakens                                                                                                                                                       |                                             |                                                                                                                                 |\n|Captain Phasma        |         NA|NA             |     NA|     NA|unknown       |unknown             |unknown       |NA        |NA             |NA             |The Force Awakens                                                                                                                                                       |                                             |                                                                                                                                 |\n|Padmé Amidala         |       46.0|female         |    165|   45.0|brown         |light               |brown         |feminine  |Naboo          |Human          |Attack of the Clones, The Phantom Menace  , Revenge of the Sith                                                                                                         |                                             |H-type Nubian yacht, Naboo star skiff   , Naboo fighter                                                                          |\n\n</div>\n:::\n:::\n\n\n## `mutate()` adds new variables that are functions of existing variables\n\n`mutate(.data, ...)`\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmtcars %>%\n  mutate(\n    efficiency = mpg / disp,\n    effect = round(hp / mpg * 100)\n  )\n```\n\n::: {.cell-output-display}\n<div class=\"kable-table\">\n\n|                    |  mpg| cyl|  disp|  hp| drat|    wt|  qsec| vs| am| gear| carb| efficiency| effect|\n|:-------------------|----:|---:|-----:|---:|----:|-----:|-----:|--:|--:|----:|----:|----------:|------:|\n|Mazda RX4           | 21.0|   6| 160.0| 110| 3.90| 2.620| 16.46|  0|  1|    4|    4|  0.1312500|    524|\n|Mazda RX4 Wag       | 21.0|   6| 160.0| 110| 3.90| 2.875| 17.02|  0|  1|    4|    4|  0.1312500|    524|\n|Datsun 710          | 22.8|   4| 108.0|  93| 3.85| 2.320| 18.61|  1|  1|    4|    1|  0.2111111|    408|\n|Hornet 4 Drive      | 21.4|   6| 258.0| 110| 3.08| 3.215| 19.44|  1|  0|    3|    1|  0.0829457|    514|\n|Hornet Sportabout   | 18.7|   8| 360.0| 175| 3.15| 3.440| 17.02|  0|  0|    3|    2|  0.0519444|    936|\n|Valiant             | 18.1|   6| 225.0| 105| 2.76| 3.460| 20.22|  1|  0|    3|    1|  0.0804444|    580|\n|Duster 360          | 14.3|   8| 360.0| 245| 3.21| 3.570| 15.84|  0|  0|    3|    4|  0.0397222|   1713|\n|Merc 240D           | 24.4|   4| 146.7|  62| 3.69| 3.190| 20.00|  1|  0|    4|    2|  0.1663258|    254|\n|Merc 230            | 22.8|   4| 140.8|  95| 3.92| 3.150| 22.90|  1|  0|    4|    2|  0.1619318|    417|\n|Merc 280            | 19.2|   6| 167.6| 123| 3.92| 3.440| 18.30|  1|  0|    4|    4|  0.1145585|    641|\n|Merc 280C           | 17.8|   6| 167.6| 123| 3.92| 3.440| 18.90|  1|  0|    4|    4|  0.1062053|    691|\n|Merc 450SE          | 16.4|   8| 275.8| 180| 3.07| 4.070| 17.40|  0|  0|    3|    3|  0.0594634|   1098|\n|Merc 450SL          | 17.3|   8| 275.8| 180| 3.07| 3.730| 17.60|  0|  0|    3|    3|  0.0627266|   1040|\n|Merc 450SLC         | 15.2|   8| 275.8| 180| 3.07| 3.780| 18.00|  0|  0|    3|    3|  0.0551124|   1184|\n|Cadillac Fleetwood  | 10.4|   8| 472.0| 205| 2.93| 5.250| 17.98|  0|  0|    3|    4|  0.0220339|   1971|\n|Lincoln Continental | 10.4|   8| 460.0| 215| 3.00| 5.424| 17.82|  0|  0|    3|    4|  0.0226087|   2067|\n|Chrysler Imperial   | 14.7|   8| 440.0| 230| 3.23| 5.345| 17.42|  0|  0|    3|    4|  0.0334091|   1565|\n|Fiat 128            | 32.4|   4|  78.7|  66| 4.08| 2.200| 19.47|  1|  1|    4|    1|  0.4116900|    204|\n|Honda Civic         | 30.4|   4|  75.7|  52| 4.93| 1.615| 18.52|  1|  1|    4|    2|  0.4015852|    171|\n|Toyota Corolla      | 33.9|   4|  71.1|  65| 4.22| 1.835| 19.90|  1|  1|    4|    1|  0.4767932|    192|\n|Toyota Corona       | 21.5|   4| 120.1|  97| 3.70| 2.465| 20.01|  1|  0|    3|    1|  0.1790175|    451|\n|Dodge Challenger    | 15.5|   8| 318.0| 150| 2.76| 3.520| 16.87|  0|  0|    3|    2|  0.0487421|    968|\n|AMC Javelin         | 15.2|   8| 304.0| 150| 3.15| 3.435| 17.30|  0|  0|    3|    2|  0.0500000|    987|\n|Camaro Z28          | 13.3|   8| 350.0| 245| 3.73| 3.840| 15.41|  0|  0|    3|    4|  0.0380000|   1842|\n|Pontiac Firebird    | 19.2|   8| 400.0| 175| 3.08| 3.845| 17.05|  0|  0|    3|    2|  0.0480000|    911|\n|Fiat X1-9           | 27.3|   4|  79.0|  66| 4.08| 1.935| 18.90|  1|  1|    4|    1|  0.3455696|    242|\n|Porsche 914-2       | 26.0|   4| 120.3|  91| 4.43| 2.140| 16.70|  0|  1|    5|    2|  0.2161264|    350|\n|Lotus Europa        | 30.4|   4|  95.1| 113| 3.77| 1.513| 16.90|  1|  1|    5|    2|  0.3196635|    372|\n|Ford Pantera L      | 15.8|   8| 351.0| 264| 4.22| 3.170| 14.50|  0|  1|    5|    4|  0.0450142|   1671|\n|Ferrari Dino        | 19.7|   6| 145.0| 175| 3.62| 2.770| 15.50|  0|  1|    5|    6|  0.1358621|    888|\n|Maserati Bora       | 15.0|   8| 301.0| 335| 3.54| 3.570| 14.60|  0|  1|    5|    8|  0.0498339|   2233|\n|Volvo 142E          | 21.4|   4| 121.0| 109| 4.11| 2.780| 18.60|  1|  1|    4|    2|  0.1768595|    509|\n\n</div>\n:::\n:::\n\n\n## Task\n\n- Take the `starwars` database.\n- Create a new variable with the body mass index `bmi`. Hint: bmi = kg / m²\n- Filter all humans with an bmi >= 26.\n- Select `name, bmi, height, and mass`\n\n\n[**:-)**]{style=\"color: red;\"}\n\n\n\n***\n\n\n::: {.cell}\n\n```{.r .cell-code}\nstarwars %>%\n  mutate(bmi = mass/ (height/100)^2) %>%\n  filter(bmi >= 26 & species == \"Human\") %>%\n  select(name, bmi, height, mass)\n```\n\n::: {.cell-output-display}\n<div class=\"kable-table\">\n\n|name               |      bmi| height| mass|\n|:------------------|--------:|------:|----:|\n|Luke Skywalker     | 26.02758|    172|   77|\n|Darth Vader        | 33.33007|    202|  136|\n|Owen Lars          | 37.87401|    178|  120|\n|Beru Whitesun lars | 27.54821|    165|   75|\n|Wedge Antilles     | 26.64360|    170|   77|\n|Jek Tono Porkins   | 33.95062|    180|  110|\n\n</div>\n:::\n:::\n\n\n## `summarise()` reduces multiple values down to a single summary.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmtcars %>%\n  summarise(\n    mean_mpg = mean(mpg),\n    sd_mpg = sd(mpg),\n    n = n()\n  )\n```\n\n::: {.cell-output-display}\n<div class=\"kable-table\">\n\n| mean_mpg|   sd_mpg|  n|\n|--------:|--------:|--:|\n| 20.09062| 6.026948| 32|\n\n</div>\n:::\n:::\n\n\n## Task {.build}\n\n- Take the `starwars` database.\n- Filter `Humans`\n- Calculate the mean and the median for height and mass (Note: don't forget to remove NA values: `na.rm = TRUE`)\n\n\n[**:-)**]{style=\"color: red;\"}\n\n\n\n*** \n\n\n::: {.cell}\n\n```{.r .cell-code}\nstarwars %>%\n  filter(species == \"Human\") %>%\n  summarise(\n    mean_height = mean(height, na.rm = TRUE),\n    median_height = median(height, na.rm = TRUE),\n    mean_mass = mean(mass, na.rm = TRUE),\n    median_mass = median(mass, na.rm = TRUE)\n  )\n```\n\n::: {.cell-output-display}\n<div class=\"kable-table\">\n\n| mean_height| median_height| mean_mass| median_mass|\n|-----------:|-------------:|---------:|-----------:|\n|    176.6452|           180|  82.78182|          79|\n\n</div>\n:::\n:::\n\n\n## `group_by()` allows to perform any operation by grouping variables.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmtcars %>% group_by(cyl) %>%\n  summarise(\n    mean_mpg = mean(mpg),\n    sd_mpg = sd(mpg),\n    n = n()\n  )\n```\n\n::: {.cell-output-display}\n<div class=\"kable-table\">\n\n| cyl| mean_mpg|   sd_mpg|  n|\n|---:|--------:|--------:|--:|\n|   4| 26.66364| 4.509828| 11|\n|   6| 19.74286| 1.453567|  7|\n|   8| 15.10000| 2.560048| 14|\n\n</div>\n:::\n:::\n\n\n*** \n\n\n::: {.cell}\n\n```{.r .cell-code}\nmtcars %>% group_by(cyl, am) %>%\n  summarise(\n    mean_mpg = mean(mpg),\n    sd_mpg = sd(mpg),\n    n = n()\n  )\n```\n\n::: {.cell-output-display}\n<div class=\"kable-table\">\n\n| cyl| am| mean_mpg|    sd_mpg|  n|\n|---:|--:|--------:|---------:|--:|\n|   4|  0| 22.90000| 1.4525839|  3|\n|   4|  1| 28.07500| 4.4838599|  8|\n|   6|  0| 19.12500| 1.6317169|  4|\n|   6|  1| 20.56667| 0.7505553|  3|\n|   8|  0| 15.05000| 2.7743959| 12|\n|   8|  1| 15.40000| 0.5656854|  2|\n\n</div>\n:::\n:::\n\n\n## Task {.build}\n\n- Take the `starwars` database.\n- Group by sex\n- Calculate the median for height and mass\n- And the number of cases per group (Hint: `n()`)\n\n\n[**:-)**]{style=\"color: red;\"}\n\n\n\n***\n\n\n::: {.cell}\n\n```{.r .cell-code}\nstarwars %>%\n  group_by(sex) %>%\n  summarise(\n    median_height = median(height, na.rm = TRUE),\n    median_mass = median(mass, na.rm = TRUE),\n    n = n()\n  )\n```\n\n::: {.cell-output-display}\n<div class=\"kable-table\">\n\n|sex            | median_height| median_mass|  n|\n|:--------------|-------------:|-----------:|--:|\n|female         |           166|        55.0| 16|\n|hermaphroditic |           175|      1358.0|  1|\n|male           |           183|        80.0| 60|\n|none           |            97|        53.5|  6|\n|NA             |           183|        48.0|  4|\n\n</div>\n:::\n:::\n\n\n## `arrange()` changes the ordering of the rows\n\n`arrange(.data, ...)`\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndat <- data.frame(age = c(5,5,6,7,6), sen = c(0, 1, 1, 0, 0), points = c(34, 55, 22, 11, 9))\ndat %>%\n  arrange(sen, age) \n```\n\n::: {.cell-output-display}\n<div class=\"kable-table\">\n\n| age| sen| points|\n|---:|---:|------:|\n|   5|   0|     34|\n|   6|   0|      9|\n|   7|   0|     11|\n|   5|   1|     55|\n|   6|   1|     22|\n\n</div>\n:::\n:::\n\n\n## `desc()` specifies a variable to be arranged descending\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndat %>%\n  arrange(sen, desc(points))\n```\n\n::: {.cell-output-display}\n<div class=\"kable-table\">\n\n| age| sen| points|\n|---:|---:|------:|\n|   5|   0|     34|\n|   7|   0|     11|\n|   6|   0|      9|\n|   5|   1|     55|\n|   6|   1|     22|\n\n</div>\n:::\n:::\n\n\n## Task\n\n- Take the `starwars` database.\n- Calculate the bmi.\n- Summarize the median of the bmi grouped by species.\n- round the bmi to one decimal.\n- Also calculate the `n` for each group.\n- Only show cases with `n > 2`.\n- Arrange the resulting table. Sort by `n` in descending order.\n\n\n[**:-)**]{style=\"color: red;\"}\n\n\n\n---\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nstarwars %>% \n  mutate(bmi = mass / (height / 100)^2) %>% \n  group_by(species) %>% \n  summarise(\n    mean_bmi = median(bmi, na.rm = TRUE) %>% round(1), \n    n = n()\n  ) %>%\n  filter(n >2) %>%\n  arrange(desc(n))\n```\n\n::: {.cell-output-display}\n<div class=\"kable-table\">\n\n|species | mean_bmi|  n|\n|:-------|--------:|--:|\n|Human   |     24.8| 35|\n|Droid   |     34.4|  6|\n|NA      |     15.1|  4|\n|Gungan  |     16.8|  3|\n\n</div>\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    function fireSlideChanged(previousSlide, currentSlide) {\n\n      // dispatch for htmlwidgets\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for reveal\n    if (window.Reveal) {\n      window.Reveal.addEventListener(\"slidechanged\", function(event) {\n        fireSlideChanged(event.previousSlide, event.currentSlide);\n      });\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}