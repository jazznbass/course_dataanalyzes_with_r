<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>R Basic Concepts</title>
    <meta charset="utf-8" />
    <script src="libs/header-attrs-2.8/header-attrs.js"></script>
    <link href="libs/remark-css-0.0.1/default.css" rel="stylesheet" />
    <link href="libs/remark-css-0.0.1/default-fonts.css" rel="stylesheet" />
    <link rel="stylesheet" href="styles_xa.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, title-slide

# R Basic Concepts
### 

---




background-image: url(img/DEFOCUSED.png)

# Goals

- Basic concepts of R: library, function, argument 
- Object types: numbers, logic values, characters
- object structures: vectors, data frames
- Sophisticated subsetting
- Import and export data to Microsoft Excel, csv files, SPSS
- Install and update packages (cran, source, and other repositories)
- Organize your work in R Studio (Projects)

---
background-image: url(img/DEFOCUSED.png)

# Goals

- .red2[Basic concepts of R: library, function, argument]
- .red2[Object types: numbers, logic values, characters]
- .red2[object structures: vectors, data frames]
- Sophisticated subsetting
- Import and export data to Microsoft Excel, csv files, SPSS
- Install and update packages (cran, source, and other repositories)
- Organize your work in R Studio (Projects)

---
class: center, inverse, middle

# Basic concepts

---

# Functions 

- With a *function* you command the computer to do something.
- *functions* have a function name (e.g., `mean`, `sqrt`).
- *functions* take **arguments** to specify what to do.
- *arguments* have argument names as well.
- functions **always** consist of a function name followed by brackets.

`function_name(argument_name = value, argumentname = value, ...)`

---
# Examples


```r
# sqrt calculates the square root
sqrt(x = 16)
```

```
## [1] 4
```

```r
# You can omit the argument name if it is the first argument
sqrt(16)
```

```
## [1] 4
```

```r
# Even without arguments you still need the brackets
date()
```

```
## [1] "Thu May 27 14:19:45 2021"
```

---
# Help files


```r
# Function
help("sqrt")

# Short cut
?sqrt
```

... or use the bottom-right help panel in R Studio

---
class: task
# Task 


Take a look at the `mean()` function:  
What *arguments* could be specified?


.red2[Please stop the video here! Continue after completing the task!] 

---
class: task


```r
help("mean")
?mean
```

The mean function takes three arguments:

* x : A vector with values
* trim : A fraction (e.g. 0.3) of values that are trimmed from each each end of the vector x 
* na.rm : If TRUE (na.rm = TRUE), missing values (NAs) are removed before calculating the mean

---
# Operations

Operations are a special kind of functions that have a shortcut.


```r
# function `assign` and the short cut
assign(x = "y", value = 10)

y &lt;- 10
```


```r
# function `+`
"+"(e1 = 10, e2 = 10)

10 + 10
```

```r
# function `print`
print(x = y)

y
```

---
# Objects

Objects (also called variables) have an object name and contain data.  
The data are assigned to an object with the `&lt;-` or `=` operator.


```r
x &lt;- 10
```

You can see the value(s) of an object with the `print()` function, or by just typing the object name:


```r
print(x)
x
```
---


Objects can be used for operators and arguments in functions:


```r
x &lt;- 16
y &lt;- 13

x * y
sqrt(x)
```

You can write the return values of a function into a new object:

```r
z &lt;- sqrt(x)
z
```
And you can combine these:


```r
exp(z) + sqrt(y)
```

---
# Task 

Assign the values `40 and 24` to the variables `a and b`. Calculate the square root of the sum of `a and b`.

.red2[Please stop the video here! Continue after completing the task!] 

---
# Task - solution

Assign the values `40 and 24` to the variables `a and b`. Calculate the square root of the sum of `a and b`.


```r
a &lt;- 40
b &lt;- 24
sqrt(a + b)
```

```
## [1] 8
```

---
# Data types 

The data of objects can be numbers, text or TRUE/FALSE values.
These are called **data types**

- **Numeric**: e.g. Integer or decimal numbers `1, 1.35` 
- **Character**: Always between " " or ' ' signs: `"A", 'House'`
- **Logical**:  `TRUE, FALSE`


```r
x &lt;- 10
y &lt;- "Hello world!"
z &lt;- FALSE
```

---
# Data structures

Data are organized in structures:

- **Atomic vectors**: A single value
- **Vectors**: A chain of values
- **Factors**: Values with assigned labels
- **List**: A series elements, each one containing one or more (atomic)  vectors
- **Data Frames**: A list with one vector for each element and all vectors of the same length
- **Matrix**: A two dimensional table with values of the same data type.
- **Array**: Like a matrix but with more dimensions.

---
# Data structures

Data are organized in structures:

- **Atomic vectors**: A single value
- .red2[Vectors: A chain of values]
- .red2[**Factors**: Values with assigned labels]
- **List**: A series elements, each one containing one or more (atomic)  vectors
- .red2[**Data Frames**: A list with one vector for each element and all vectors of the same length]
- **Matrix**: A two dimensional table with values of the same data type.
- **Array**: Like a matrix but with more dimensions.

---
# How to build a vector

You create a vector with the `c()` function:


```r
c(2, 4, 6, 3, 7)
```

```
## [1] 2 4 6 3 7
```

```r
y &lt;- c(2, 4, 6, 3, 7)
y
```

```
## [1] 2 4 6 3 7
```

The colon `:` operator creates a numerical sequence:


```r
1:10
```

---

You can build a vector of any data type:


```r
firstname &lt;- c("Dustin", "Mike", "Will")
curly &lt;- c(TRUE, FALSE, FALSE)
age &lt;- c(9, 11, 10)
```

But do not mix data types in a vector. You will get an error or they are internally changed:


```r
age &lt;- c("quite young", 10, 12, "very old")
age
```

```
## [1] "quite young" "10"          "12"          "very old"
```

---
# Task

Create a vector (named `friends` comprising four names of your friends.

.red2[Please stop the video here! Continue after completing the task!] 

---
# Task - solution

Create a vector (named `friends` comprising four names of your friends.


```r
friends &lt;- c("Matthias", "Markus", "Thomas", "Christian")
```

---
# Combining vectors to new vectors

When an object is a vector it can be reused within the `c()` function to build a new vector:


```r
x &lt;- c(3, 5, 7)
c(x, 5, 8, 9)
```

```
## [1] 3 5 7 5 8 9
```

---
# Combining vectors to new vectors

Be careful not to confuse an object name with a character:


```r
x &lt;- c("A", "B", "C")
c("x", "D", "E", "F")
```

```
## [1] "x" "D" "E" "F"
```

```r
c(x, "D", "E", "F")
```

```
## [1] "A" "B" "C" "D" "E" "F"
```

```r
c(A, B, C)
```

```
## Error in eval(expr, envir, enclos): object 'A' not found
```

---
# Missing values

A missing value is represented with `NA` (**N**ot **A**vailable).


```r
age &lt;- c(9, NA, 11)
name &lt;- c("Tick", "Trick", NA)
age
```

```
## [1]  9 NA 11
```

```r
name
```

```
## [1] "Tick"  "Trick" NA
```

---
# Task 

Create a vector with the values `2, 5, 7, 4, 7, 2, 6`. Calculate the `mean` of these values. (Note: Use the `mean()` function to calculate the mean).

.red2[Please stop the video here! Continue after completing the task!] 

---
# Task - solution

Create a vector with the values `2, 5, 7, 4, 7, 2, 6`. Calculate the `mean` of these values. (Note: Use the `mean()` function to calculate the mean).



```r
x &lt;- c(2, 5, 7, 4, 7, 2, 6)
mean(x)
```

```
## [1] 4.714286
```

---
# Task 

Create a vector with the values `2, NA, 7, 4, NA, 2, 6`. Calculate the `mean` of these values.  
(Note: Read through `?mean` if you encounter problems.)

.red2[Please stop the video here! Continue after completing the task!] 

---
# Task - solution

Create a vector with the values `2, NA, 7, 4, NA, 2, 6`. Calculate the `mean` of these values.  
(Note: Read through `?mean` if you encounter problems.)


```r
x &lt;- c(2, NA, 7, 4, NA, 2, 6)
mean(x, na.rm = TRUE)
```

```
## [1] 4.2
```


---
# Selecting elements with square brackets 


```r
names &lt;- c("Sheldon", "Leonard", "Penny", "Amy")
names[1]
```

```
## [1] "Sheldon"
```

```r
# Pass a vector to extract multiple elements:
names[c(1,4)]
```

```
## [1] "Sheldon" "Amy"
```

---
# Task 

Take the vector  
`names &lt;- c("Sheldon", "Leonard", "Penny", "Amy")`  
and reorder it to get the following result:  
`[1] "Sheldon" "Amy"     "Sheldon" "Amy"     "Leonard" "Penny"`

.red2[Please stop the video here! Continue after completing the task!] 

---
# Task - solution 

Take the vector  
`names &lt;- c("Sheldon", "Leonard", "Penny", "Amy")`  
and reorder it to get the following result:  
`[1] "Sheldon" "Amy"     "Sheldon" "Amy"     "Leonard" "Penny"`


```r
x &lt;- c(1, 4, 1, 4, 2, 3)
new_order &lt;- names[x]
new_order
```

```
## [1] "Sheldon" "Amy"     "Sheldon" "Amy"     "Leonard" "Penny"
```

---
# A factor 

A factor is a vector with labels for vector levels. E.g., a vector contains the values 0 and 1 where 0 stands for "with behavioral problems" and 1 stands for ""without behavioral problems".

A factor is created with the `factor()` function.


```r
sen &lt;- factor(c(1, 0, 1, 0, 0, 0), levels =  c(0, 1), labels = c("No SEN", "With SEN"))
sen
```

```
## [1] With SEN No SEN   With SEN No SEN   No SEN   No SEN  
## Levels: No SEN With SEN
```

---
# Task 

Build a factor for `gender` with the labels `male, female, non-binary`. Include a vector for six fictitious gender values.

.red2[Please stop the video here! Continue after completing the task!] 

---
# Task - solution

Build a factor for `gender` with the labels `male, female, non-binary`. Include a vector for six fictitious gender values.


```r
gender &lt;- factor(
  c(1, 3, 2, 1, 2, 1), 
  levels = 1:3, 
  labels = c("male", "female", "non-binary")
)
gender
```

```
## [1] male       non-binary female     male       female     male      
## Levels: male female non-binary
```

---
# How to build a data frame 

Data frames are the standard object for storing research data. They contain variables (columns) and cases (rows). A data frame is created with the `data.frame()` function.


```r
# For better convenience I have inserted additional linebreaks and spaces
study &lt;- data.frame(
  sen    = c(0, 1, 0, 1, 0, 1),
  gender = c("M", "M", "F", "M", "F", "F"),
  age    = c(12, 13, 11, 10, 11, 14),
  IQ     = c(90, 85, 90, 87, 99, 89)
)
study
```

```
##   sen gender age IQ
## 1   0      M  12 90
## 2   1      M  13 85
## 3   0      F  11 90
## 4   1      M  10 87
## 5   0      F  11 99
## 6   1      F  14 89
```

---
# Extracting a variable from a data frame

Variables within a data frame are extracted with double square brackets.


```r
study[["sen"]]
```

```
## [1] 0 1 0 1 0 1
```

```r
study[["IQ"]]
```

```
## [1] 90 85 90 87 99 89
```

*Note: an alternative approach is to use the `$` sign: `study$sen`. But we will not use this approach for now.*

---
# Subsetting a data frame

Specific cases are selected within square brackets: 
`object_name[rows, columns]`.


```r
study[5, ]
```

```
##   sen gender age IQ
## 5   0      F  11 99
```

```r
study[c(2, 6), ]
```

```
##   sen gender age IQ
## 2   1      M  13 85
## 6   1      F  14 89
```

---


```r
study[c(2, 6), "IQ"]
```

```
## [1] 85 89
```

```r
study[c(2, 6), c("sen", "IQ")]
```

```
##   sen IQ
## 2   1 85
## 6   1 89
```

---

You could also use numbers to address the columns:


```r
study[, 2]
```

```
## [1] "M" "M" "F" "M" "F" "F"
```

```r
study[c(2, 6), c(1, 3)]
```

```
##   sen age
## 2   1  13
## 6   1  14
```

---
# Task 

Please create a new data frame (`study2`) comprising the `gender` and `age` variables for the cases 1, 3, and 5 of the `study` data frame.

.red2[Please stop the video here! Continue after completing the task!] 

---

# Task - solution

Please create a new data frame (`study2`) comprising the `gender` and `age` variables for the cases 1, 3, and 5 of the `study` data frame.


```r
study2 &lt;- study[c(1, 3, 5), c("gender", "age")]
study2
```

```
##   gender age
## 1      M  12
## 3      F  11
## 5      F  11
```
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false,
"ratio": "16:10"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
